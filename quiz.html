<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SuperfastSAT Diagnostic Test</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</head>
<body>
    <div class="container">
        <img src="superfastsat-logo.png" alt="SuperfastSAT Logo" class="logo" style="max-width:320px;display:block;margin:0 auto 16px auto;">
        <h1 style="text-align:center;">SAT Diagnostic Test</h1>
        <form action="/submit" method="POST">
            <div class="student-info">
                <label for="studentName">Student Name</label>
                <input type="text" id="studentName" name="studentName" required>

                <label for="studentGrade" style="margin-top: 15px;">Grade</label>
                <select id="studentGrade" name="studentGrade" required>
                    <option value="">Select Grade</option>
                    <option value="US05">US05</option>
                    <option value="US06">US06</option>
                    <option value="US07">US07</option>
                    <option value="US08">US08</option>
                    <option value="US09">US09</option>
                    <option value="US10">US10</option>
                    <option value="US11">US11</option>
                    <option value="US12">US12</option>
                    <option value="Y07">Y07</option>
                    <option value="Y08">Y08</option>
                    <option value="Y09">Y09</option>
                    <option value="Y10">Y10</option>
                    <option value="Y11">Y11</option>
                    <option value="Y12">Y12</option>
                    <option value="Y13">Y13</option>
                    <option value="High School Graduate">High School Graduate</option>
                </select>

                <label for="phoneNumber" style="margin-top: 15px;">Phone Number</label>
                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                  <select id="countryCode" name="countryCode" required style="flex: 0 0 110px; padding: 6px 8px; font-size: 16px; min-width: 0;">
                    <!-- Options will be populated by JavaScript -->
                  </select>
                  <input type="tel" id="phoneNumber" name="phoneNumber" required placeholder="Enter phone number" style="flex: 1; padding: 6px 8px; font-size: 16px;">
                </div>

                <label for="coffeeName" style="margin-top: 15px;">Coffee Name</label>
                <input type="text" id="coffeeName" name="coffeeName" required placeholder="Enter your favorite coffee name">
            </div>

            <div id="questions-area"></div>

            <button type="submit" class="submit-btn">Submit Results</button>
        </form>
    </div>
    <script>
    // ÎèôÏ†ÅÏúºÎ°ú Î¨∏Ï†úÎ•º ÏÉùÏÑ±ÌïòÎäî ÏΩîÎìú
    document.addEventListener('DOMContentLoaded', function() {
        Papa.parse('questions.csv', {
            download: true,
            header: true,
            complete: function(results) {
                const data = results.data.filter(row => row.Question && row.OptionA && row.OptionB && row.OptionC && row.OptionD);
                const questionsArea = document.getElementById('questions-area');
                data.forEach(function(row, idx) {
                    const qNum = idx + 1;
                    const qBlock = document.createElement('div');
                    qBlock.className = 'question-block';
                    // Passage
                    if(row.Passage && row.Passage.trim() !== '') {
                        const passageDiv = document.createElement('div');
                        passageDiv.className = 'passage';
                        passageDiv.innerHTML = row.Passage.replace(/\n/g, '<br>');
                        qBlock.appendChild(passageDiv);
                    }
                    // Question N
                    const qNumber = document.createElement('div');
                    qNumber.className = 'question-number';
                    qNumber.textContent = 'Question ' + qNum;
                    qBlock.appendChild(qNumber);
                    // Question Text
                    const qTitle = document.createElement('div');
                    qTitle.className = 'question-title';
                    qTitle.textContent = row.Question;
                    qBlock.appendChild(qTitle);
                    // Answer label
                    const answerLabel = document.createElement('div');
                    answerLabel.className = 'answer-label';
                    answerLabel.textContent = 'Answer';
                    qBlock.appendChild(answerLabel);
                    // Options
                    const optionsDiv = document.createElement('div');
                    optionsDiv.className = 'options';
                    ['A','B','C','D'].forEach(function(opt) {
                        const rowDiv = document.createElement('div');
                        rowDiv.className = 'option-row';
                        const label = document.createElement('label');
                        label.style.display = 'flex';
                        label.style.alignItems = 'center';
                        label.style.width = '100%';
                        label.style.padding = '10px 16px';
                        label.style.border = '1.5px solid #e5e8f0';
                        label.style.borderRadius = '24px';
                        label.style.marginBottom = '10px';
                        label.style.background = '#fafbfc';
                        label.style.fontWeight = '500';
                        label.style.fontSize = '1.08em';
                        label.style.transition = 'border 0.2s, background 0.2s';
                        const input = document.createElement('input');
                        input.type = 'radio';
                        input.name = 'q' + qNum;
                        input.value = opt;
                        input.style.marginRight = '16px';
                        input.style.accentColor = '#071BE9';
                        if(opt==='A') input.required = true;
                        label.appendChild(input);
                        const span = document.createElement('span');
                        span.textContent = row['Option'+opt];
                        label.appendChild(span);
                        rowDiv.appendChild(label);
                        optionsDiv.appendChild(rowDiv);
                    });
                    qBlock.appendChild(optionsDiv);
                    // Confidence Rating (Answer ÏïÑÎûòÎ°ú Ïù¥Îèô)
                    const confLabel = document.createElement('div');
                    confLabel.className = 'confidence-label';
                    confLabel.textContent = 'Confidence Rating';
                    qBlock.appendChild(confLabel);
                    const confBtns = document.createElement('div');
                    confBtns.className = 'confidence-buttons';
                    confBtns.style.display = 'flex';
                    confBtns.style.gap = '12px';
                    (row.ConfidenceOptions || '0,25,50,75,100').split(',').forEach(function(val, i) {
                        const label = document.createElement('label');
                        label.className = 'confidence-btn';
                        label.style.cursor = 'pointer';
                        label.style.display = 'flex';
                        label.style.alignItems = 'center';
                        label.style.justifyContent = 'center';
                        label.style.marginRight = '8px';
                        label.style.height = '40px';
                        label.style.minWidth = '64px';
                        label.style.border = '1.5px solid #e5e8f0';
                        label.style.borderRadius = '6px';
                        label.style.padding = '4px 12px';
                        label.style.background = '#fff';
                        label.style.transition = 'background 0.2s, color 0.2s, border 0.2s';
                        const input = document.createElement('input');
                        input.type = 'radio';
                        input.name = 'c' + qNum;
                        input.value = val;
                        input.style.marginRight = '6px';
                        input.style.accentColor = '#071BE9';
                        if(i===0) input.required = true;
                        label.appendChild(input);
                        const span = document.createElement('span');
                        span.textContent = val + '%';
                        span.style.display = 'inline-block';
                        span.style.width = '100%';
                        span.style.textAlign = 'center';
                        label.appendChild(span);
                        confBtns.appendChild(label);
                    });
                    qBlock.appendChild(confBtns);
                    questionsArea.appendChild(qBlock);
                });
            }
        });

        // Populate country code select with all countries
        const countryCodes = [
          { name: "Afghanistan", code: "+93", flag: "üá¶üá´" },
          { name: "Albania", code: "+355", flag: "üá¶üá±" },
          { name: "Algeria", code: "+213", flag: "üá©üáø" },
          { name: "Andorra", code: "+376", flag: "üá¶üá©" },
          { name: "Angola", code: "+244", flag: "üá¶üá¥" },
          { name: "Antigua and Barbuda", code: "+1-268", flag: "üá¶üá¨" },
          { name: "Argentina", code: "+54", flag: "üá¶üá∑" },
          { name: "Armenia", code: "+374", flag: "üá¶üá≤" },
          { name: "Australia", code: "+61", flag: "üá¶üá∫" },
          { name: "Austria", code: "+43", flag: "üá¶üáπ" },
          { name: "Azerbaijan", code: "+994", flag: "üá¶üáø" },
          { name: "Bahamas", code: "+1-242", flag: "üáßüá∏" },
          { name: "Bahrain", code: "+973", flag: "üáßüá≠" },
          { name: "Bangladesh", code: "+880", flag: "üáßüá©" },
          { name: "Barbados", code: "+1-246", flag: "üáßüáß" },
          { name: "Belarus", code: "+375", flag: "üáßüáæ" },
          { name: "Belgium", code: "+32", flag: "üáßüá™" },
          { name: "Belize", code: "+501", flag: "üáßüáø" },
          { name: "Benin", code: "+229", flag: "üáßüáØ" },
          { name: "Bhutan", code: "+975", flag: "üáßüáπ" },
          { name: "Bolivia", code: "+591", flag: "üáßüá¥" },
          { name: "Bosnia and Herzegovina", code: "+387", flag: "üáßüá¶" },
          { name: "Botswana", code: "+267", flag: "üáßüáº" },
          { name: "Brazil", code: "+55", flag: "üáßüá∑" },
          { name: "Brunei", code: "+673", flag: "üáßüá≥" },
          { name: "Bulgaria", code: "+359", flag: "üáßüá¨" },
          { name: "Burkina Faso", code: "+226", flag: "üáßüá´" },
          { name: "Burundi", code: "+257", flag: "üáßüáÆ" },
          { name: "Cabo Verde", code: "+238", flag: "üá®üáª" },
          { name: "Cambodia", code: "+855", flag: "üá∞üá≠" },
          { name: "Cameroon", code: "+237", flag: "üá®üá≤" },
          { name: "Canada", code: "+1", flag: "üá®üá¶" },
          { name: "Central African Republic", code: "+236", flag: "üá®üá´" },
          { name: "Chad", code: "+235", flag: "üáπüá©" },
          { name: "Chile", code: "+56", flag: "üá®üá±" },
          { name: "China", code: "+86", flag: "üá®üá≥" },
          { name: "Colombia", code: "+57", flag: "üá®üá¥" },
          { name: "Comoros", code: "+269", flag: "üá∞üá≤" },
          { name: "Congo", code: "+242", flag: "üá®üá¨" },
          { name: "Costa Rica", code: "+506", flag: "üá®üá∑" },
          { name: "Croatia", code: "+385", flag: "üá≠üá∑" },
          { name: "Cuba", code: "+53", flag: "üá®üá∫" },
          { name: "Cyprus", code: "+357", flag: "üá®üáæ" },
          { name: "Czechia", code: "+420", flag: "üá®üáø" },
          { name: "Denmark", code: "+45", flag: "üá©üá∞" },
          { name: "Djibouti", code: "+253", flag: "üá©üáØ" },
          { name: "Dominica", code: "+1-767", flag: "üá©üá≤" },
          { name: "Dominican Republic", code: "+1-809", flag: "üá©üá¥" },
          { name: "Ecuador", code: "+593", flag: "üá™üá®" },
          { name: "Egypt", code: "+20", flag: "üá™üá¨" },
          { name: "El Salvador", code: "+503", flag: "üá∏üáª" },
          { name: "Equatorial Guinea", code: "+240", flag: "üá¨üá∂" },
          { name: "Eritrea", code: "+291", flag: "üá™üá∑" },
          { name: "Estonia", code: "+372", flag: "üá™üá™" },
          { name: "Eswatini", code: "+268", flag: "üá∏üáø" },
          { name: "Ethiopia", code: "+251", flag: "üá™üáπ" },
          { name: "Fiji", code: "+679", flag: "üá´üáØ" },
          { name: "Finland", code: "+358", flag: "üá´üáÆ" },
          { name: "France", code: "+33", flag: "üá´üá∑" },
          { name: "Gabon", code: "+241", flag: "üá¨üá¶" },
          { name: "Gambia", code: "+220", flag: "üá¨üá≤" },
          { name: "Georgia", code: "+995", flag: "üá¨üá™" },
          { name: "Germany", code: "+49", flag: "üá©üá™" },
          { name: "Ghana", code: "+233", flag: "üá¨üá≠" },
          { name: "Greece", code: "+30", flag: "üá¨üá∑" },
          { name: "Grenada", code: "+1-473", flag: "üá¨üá©" },
          { name: "Guatemala", code: "+502", flag: "üá¨üáπ" },
          { name: "Guinea", code: "+224", flag: "üá¨üá≥" },
          { name: "Guinea-Bissau", code: "+245", flag: "üá¨üáº" },
          { name: "Guyana", code: "+592", flag: "üá¨üáæ" },
          { name: "Haiti", code: "+509", flag: "üá≠üáπ" },
          { name: "Honduras", code: "+504", flag: "üá≠üá≥" },
          { name: "Hungary", code: "+36", flag: "üá≠üá∫" },
          { name: "Iceland", code: "+354", flag: "üáÆüá∏" },
          { name: "India", code: "+91", flag: "üáÆüá≥" },
          { name: "Indonesia", code: "+62", flag: "üáÆüá©" },
          { name: "Iran", code: "+98", flag: "üáÆüá∑" },
          { name: "Iraq", code: "+964", flag: "üáÆüá∂" },
          { name: "Ireland", code: "+353", flag: "üáÆüá™" },
          { name: "Israel", code: "+972", flag: "üáÆüá±" },
          { name: "Italy", code: "+39", flag: "üáÆüáπ" },
          { name: "Jamaica", code: "+1-876", flag: "üáØüá≤" },
          { name: "Japan", code: "+81", flag: "üáØüáµ" },
          { name: "Jordan", code: "+962", flag: "üáØüá¥" },
          { name: "Kazakhstan", code: "+7", flag: "üá∞üáø" },
          { name: "Kenya", code: "+254", flag: "üá∞üá™" },
          { name: "Kiribati", code: "+686", flag: "üá∞üáÆ" },
          { name: "Kuwait", code: "+965", flag: "üá∞üáº" },
          { name: "Kyrgyzstan", code: "+996", flag: "üá∞üá¨" },
          { name: "Laos", code: "+856", flag: "üá±üá¶" },
          { name: "Latvia", code: "+371", flag: "üá±üáª" },
          { name: "Lebanon", code: "+961", flag: "üá±üáß" },
          { name: "Lesotho", code: "+266", flag: "üá±üá∏" },
          { name: "Liberia", code: "+231", flag: "üá±üá∑" },
          { name: "Libya", code: "+218", flag: "üá±üáæ" },
          { name: "Liechtenstein", code: "+423", flag: "üá±üáÆ" },
          { name: "Lithuania", code: "+370", flag: "üá±üáπ" },
          { name: "Luxembourg", code: "+352", flag: "üá±üá∫" },
          { name: "Madagascar", code: "+261", flag: "üá≤üá¨" },
          { name: "Malawi", code: "+265", flag: "üá≤üáº" },
          { name: "Malaysia", code: "+60", flag: "üá≤üáæ" },
          { name: "Maldives", code: "+960", flag: "üá≤üáª" },
          { name: "Mali", code: "+223", flag: "üá≤üá±" },
          { name: "Malta", code: "+356", flag: "üá≤üáπ" },
          { name: "Marshall Islands", code: "+692", flag: "üá≤üá≠" },
          { name: "Mauritania", code: "+222", flag: "üá≤üá∑" },
          { name: "Mauritius", code: "+230", flag: "üá≤üá∫" },
          { name: "Mexico", code: "+52", flag: "üá≤üáΩ" },
          { name: "Micronesia", code: "+691", flag: "üá´üá≤" },
          { name: "Moldova", code: "+373", flag: "üá≤üá©" },
          { name: "Monaco", code: "+377", flag: "üá≤üá®" },
          { name: "Mongolia", code: "+976", flag: "üá≤üá≥" },
          { name: "Montenegro", code: "+382", flag: "üá≤üá™" },
          { name: "Morocco", code: "+212", flag: "üá≤üá¶" },
          { name: "Mozambique", code: "+258", flag: "üá≤üáø" },
          { name: "Myanmar", code: "+95", flag: "üá≤üá≤" },
          { name: "Namibia", code: "+264", flag: "üá≥üá¶" },
          { name: "Nauru", code: "+674", flag: "üá≥üá∑" },
          { name: "Nepal", code: "+977", flag: "üá≥üáµ" },
          { name: "Netherlands", code: "+31", flag: "üá≥üá±" },
          { name: "New Zealand", code: "+64", flag: "üá≥üáø" },
          { name: "Nicaragua", code: "+505", flag: "üá≥üáÆ" },
          { name: "Niger", code: "+227", flag: "üá≥üá™" },
          { name: "Nigeria", code: "+234", flag: "üá≥üá¨" },
          { name: "North Korea", code: "+850", flag: "üá∞üáµ" },
          { name: "North Macedonia", code: "+389", flag: "üá≤üá∞" },
          { name: "Norway", code: "+47", flag: "üá≥üá¥" },
          { name: "Oman", code: "+968", flag: "üá¥üá≤" },
          { name: "Pakistan", code: "+92", flag: "üáµüá∞" },
          { name: "Palau", code: "+680", flag: "üáµüáº" },
          { name: "Palestine", code: "+970", flag: "üáµüá∏" },
          { name: "Panama", code: "+507", flag: "üáµüá¶" },
          { name: "Papua New Guinea", code: "+675", flag: "üáµüá¨" },
          { name: "Paraguay", code: "+595", flag: "üáµüáæ" },
          { name: "Peru", code: "+51", flag: "üáµüá™" },
          { name: "Philippines", code: "+63", flag: "üáµüá≠" },
          { name: "Poland", code: "+48", flag: "üáµüá±" },
          { name: "Portugal", code: "+351", flag: "üáµüáπ" },
          { name: "Qatar", code: "+974", flag: "üá∂üá¶" },
          { name: "Romania", code: "+40", flag: "üá∑üá¥" },
          { name: "Russia", code: "+7", flag: "üá∑üá∫" },
          { name: "Rwanda", code: "+250", flag: "üá∑üáº" },
          { name: "Saint Kitts and Nevis", code: "+1-869", flag: "üá∞üá≥" },
          { name: "Saint Lucia", code: "+1-758", flag: "üá±üá®" },
          { name: "Saint Vincent and the Grenadines", code: "+1-784", flag: "üáªüá®" },
          { name: "Samoa", code: "+685", flag: "üáºüá∏" },
          { name: "San Marino", code: "+378", flag: "üá∏üá≤" },
          { name: "Sao Tome and Principe", code: "+239", flag: "üá∏üáπ" },
          { name: "Saudi Arabia", code: "+966", flag: "üá∏üá¶" },
          { name: "Senegal", code: "+221", flag: "üá∏üá≥" },
          { name: "Serbia", code: "+381", flag: "üá∑üá∏" },
          { name: "Seychelles", code: "+248", flag: "üá∏üá®" },
          { name: "Sierra Leone", code: "+232", flag: "üá∏üá±" },
          { name: "Singapore", code: "+65", flag: "üá∏üá¨" },
          { name: "Slovakia", code: "+421", flag: "üá∏üá∞" },
          { name: "Slovenia", code: "+386", flag: "üá∏üáÆ" },
          { name: "Solomon Islands", code: "+677", flag: "üá∏üáß" },
          { name: "Somalia", code: "+252", flag: "üá∏üá¥" },
          { name: "South Africa", code: "+27", flag: "üáøüá¶" },
          { name: "South Korea", code: "+82", flag: "üá∞üá∑" },
          { name: "South Sudan", code: "+211", flag: "üá∏üá∏" },
          { name: "Spain", code: "+34", flag: "üá™üá∏" },
          { name: "Sri Lanka", code: "+94", flag: "üá±üá∞" },
          { name: "Sudan", code: "+249", flag: "üá∏üá©" },
          { name: "Suriname", code: "+597", flag: "üá∏üá∑" },
          { name: "Sweden", code: "+46", flag: "üá∏üá™" },
          { name: "Switzerland", code: "+41", flag: "üá®üá≠" },
          { name: "Syria", code: "+963", flag: "üá∏üáæ" },
          { name: "Taiwan", code: "+886", flag: "üáπüáº" },
          { name: "Tajikistan", code: "+992", flag: "üáπüáØ" },
          { name: "Tanzania", code: "+255", flag: "üáπüáø" },
          { name: "Thailand", code: "+66", flag: "üáπüá≠" },
          { name: "Timor-Leste", code: "+670", flag: "üáπüá±" },
          { name: "Togo", code: "+228", flag: "üáπüá¨" },
          { name: "Tonga", code: "+676", flag: "üáπüá¥" },
          { name: "Trinidad and Tobago", code: "+1-868", flag: "üáπüáπ" },
          { name: "Tunisia", code: "+216", flag: "üáπüá≥" },
          { name: "Turkey", code: "+90", flag: "üáπüá∑" },
          { name: "Turkmenistan", code: "+993", flag: "üáπüá≤" },
          { name: "Tuvalu", code: "+688", flag: "üáπüáª" },
          { name: "Uganda", code: "+256", flag: "üá∫üá¨" },
          { name: "Ukraine", code: "+380", flag: "üá∫üá¶" },
          { name: "United Arab Emirates", code: "+971", flag: "üá¶üá™" },
          { name: "United Kingdom", code: "+44", flag: "üá¨üáß" },
          { name: "United States", code: "+1", flag: "üá∫üá∏" },
          { name: "Uruguay", code: "+598", flag: "üá∫üáæ" },
          { name: "Uzbekistan", code: "+998", flag: "üá∫üáø" },
          { name: "Vanuatu", code: "+678", flag: "üáªüá∫" },
          { name: "Vatican City", code: "+39", flag: "üáªüá¶" },
          { name: "Venezuela", code: "+58", flag: "üáªüá™" },
          { name: "Vietnam", code: "+84", flag: "üáªüá≥" },
          { name: "Yemen", code: "+967", flag: "üáæüá™" },
          { name: "Zambia", code: "+260", flag: "üáøüá≤" },
          { name: "Zimbabwe", code: "+263", flag: "üáøüáº" }
        ];
        // ÏÇ¨Ïö©Ïûê ÏßÄÏ†ï ÏÉÅÏúÑ Íµ≠Í∞Ä Ïö∞ÏÑ† Ï†ïÎ†¨
        const customTopCountries = [
          "South Korea", "United States", "Vietnam", "China", "Malaysia", "Indonesia"
        ];
        const customTop = customTopCountries.map(name => countryCodes.find(c => c.name === name)).filter(Boolean);
        const rest = countryCodes.filter(c => !customTopCountries.includes(c.name)).sort((a, b) => a.name.localeCompare(b.name));
        const sortedCountries = [...customTop, ...rest];
        const select = document.getElementById('countryCode');
        if (select) {
          sortedCountries.forEach(country => {
            const option = document.createElement('option');
            option.value = country.code;
            option.textContent = `${country.flag} ${country.code} (${country.name})`;
            select.appendChild(option);
          });
        }
    });
    </script>
</body>
</html>